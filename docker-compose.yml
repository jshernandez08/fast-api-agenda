version: '3'
services:
   db:
      image: mongo:4.2
      env_file:
         - .env
      ports:
         - "27017-27019:27017-27019"
      volumes:
         - ./mongo-volume:/data/db
   web:
      build: 
         dockerfile: Dockerfile
         context: .
      env_file:
         - .env
      depends_on:
         - db
      ports:
         - "8000:8000"
      volumes:
         - .:/code
      command: "uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload"
